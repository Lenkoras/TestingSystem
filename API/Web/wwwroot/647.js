"use strict";(self.webpackChunktesting_system=self.webpackChunktesting_system||[]).push([[647],{3647:(b,h,r)=>{r.r(h),r.d(h,{AuthModule:()=>k});var s=r(1180),d=r(6868),A=r(5861),t=r(2223),f=r(7461),p=r(1292),C=r(4755),l=r(9401),c=r(1728),g=r(430),Z=r(8097),m=r(9114),_=r(8467);function M(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Min length 2 characters"),t.qZA())}function x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Fill user name"),t.qZA(),t.TgZ(3,"input",6),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.userName=a)}),t.qZA(),t.TgZ(4,"mat-icon",7),t._uU(5,"user"),t.qZA(),t.YNc(6,M,2,0,"mat-error",3),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.userName),t.xp6(3),t.Q6J("ngIf",e.userName.length<2)}}function v(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Min length 6 characters"),t.qZA())}function T(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Fill password"),t.qZA(),t.TgZ(3,"input",8),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.password=a)}),t.qZA(),t.TgZ(4,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.hidePassword=!a.hidePassword)}),t.TgZ(5,"mat-icon"),t._uU(6),t.qZA()(),t.YNc(7,v,2,0,"mat-error",3),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("type",e.hidePassword?"password":"text")("ngModel",e.password),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hidePassword),t.xp6(2),t.Oqu(e.hidePassword?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",e.password.length<6)}}function y(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Fill token"),t.qZA(),t.TgZ(3,"input",10),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.token=a)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.token)}}function P(n,i){1&n&&t._UZ(0,"mat-spinner")}const N=[{path:"",component:(()=>{class n{constructor(e,o){(0,s.Z)(this,"authService",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"userName",void 0),(0,s.Z)(this,"password",void 0),(0,s.Z)(this,"token",void 0),(0,s.Z)(this,"hidePassword",void 0),(0,s.Z)(this,"status",void 0),(0,s.Z)(this,"inProcess",void 0),(0,s.Z)(this,"byToken",void 0),this.authService=e,this.router=o,this.userName="lenkoras",this.password="MySuperSecretKey",this.status="",this.hidePassword=!0,this.inProcess=!1,this.byToken=!1}login(){var e=this;return(0,A.Z)(function*(){if(e.status="Processing..",e.inProcess=!0,e.byToken){if(e.token.length<1)return void(e.status="");const o=yield e.authService.auth(e.token);if(e.inProcess=!1,null!=o&&null!=o.error)return void(e.status=`Authorization error: ${o.error.message}`)}else{if(e.userName.length<2||e.password.length<6)return void(e.status="");const o=yield e.authService.login(e.userName,e.password);if(null!=o.error)return e.inProcess=!1,void(e.status=`Authorization error: ${o.error.message}`);e.inProcess=!1}yield e.router.navigate(["home"])})()}}return(0,s.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(f.e),t.Y36(d.F0))}),(0,s.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["auth"]],decls:14,vars:6,consts:[[1,"auth"],[1,"fields"],[1,"label"],[4,"ngIf"],["mat-button","",3,"click"],[3,"ngModel","ngModelChange"],["matInput","","placeholder","User name","type","text","name","userName","required","",3,"ngModel","ngModelChange"],["matSuffix",""],["matInput","","name","password","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","type","text","required","",3,"ngModel","ngModelChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3,"Authorization"),t.qZA(),t.YNc(4,x,7,2,"mat-form-field",3),t.YNc(5,T,8,6,"mat-form-field",3),t.YNc(6,y,4,1,"mat-form-field",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return o.login()}),t._uU(8,"Login"),t.qZA(),t.TgZ(9,"mat-checkbox",5),t.NdJ("ngModelChange",function(u){return o.byToken=u}),t._uU(10,"By token"),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.qZA(),t.YNc(13,P,1,0,"mat-spinner",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",!o.byToken),t.xp6(1),t.Q6J("ngIf",!o.byToken),t.xp6(1),t.Q6J("ngIf",o.byToken),t.xp6(3),t.Q6J("ngModel",o.byToken),t.xp6(3),t.Oqu(o.status),t.xp6(1),t.Q6J("ngIf",o.inProcess))},dependencies:[p.oG,C.O5,l.Fj,l.JJ,l.Q7,l.On,c.lW,c.RK,g.Hw,Z.Nt,m.KE,m.hX,m.TO,m.R9,_.Ou],styles:[".auth[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.auth[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:30px 0 20px;font-size:18px;-webkit-user-select:none;user-select:none}.auth[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{height:64px!important}"]})),n})()}];let J=(()=>{class n{}return(0,s.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,s.Z)(n,"\u0275mod",t.oAB({type:n})),(0,s.Z)(n,"\u0275inj",t.cJS({imports:[d.Bz.forChild(N),d.Bz]})),n})();var w=r(8567);let k=(()=>{class n{}return(0,s.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,s.Z)(n,"\u0275mod",t.oAB({type:n})),(0,s.Z)(n,"\u0275inj",t.cJS({providers:[f.e,w.s],imports:[p.p9,J,l.u5,c.ot,g.Ps,Z.c,m.lN,_.Cq]})),n})()}}]);